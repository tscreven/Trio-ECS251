var trio_iobTotal;(()=>{var i={3466:(i,r)=>{i.exports=function(i,r){var a,o=r.getTime(),e=i.calculate,t=i.treatments,n=i.profile,u=n.dia,b=0,d=0,l=0,p=0,s=0,v=0;if(!t)return{};u<3&&(u=3);var c={bilinear:{requireLongDia:!1,peak:75},"rapid-acting":{requireLongDia:!0,peak:75,tdMin:300},"ultra-rapid":{requireLongDia:!0,peak:55,tdMin:300}},g="bilinear";void 0!==n.curve&&(g=n.curve.toLowerCase()),g in c||(console.error('Unsupported curve function: "'+g+'". Supported curves: "bilinear", "rapid-acting" (Novolog, Novorapid, Humalog, Apidra) and "ultra-rapid" (Fiasp). Defaulting to "rapid-acting".'),g="rapid-acting");var f=c[g];return f.requireLongDia&&u<5&&(u=5),a=f.peak,t.forEach((function(i){if(i.date<=o){var t=o-60*u*60*1e3;if(i.date>t){var c=e(i,r,g,u,a,n);c&&c.iobContrib&&(b+=c.iobContrib),c&&c.activityContrib&&(v+=c.activityContrib),i.insulin&&c&&c.iobContrib&&(i.insulin<.1?(d+=c.iobContrib,p+=i.insulin):(l+=c.iobContrib,s+=i.insulin))}}})),{iob:Math.round(1e3*b)/1e3,activity:Math.round(1e4*v)/1e4,basaliob:Math.round(1e3*d)/1e3,bolusiob:Math.round(1e3*l)/1e3,netbasalinsulin:Math.round(1e3*p)/1e3,bolusinsulin:Math.round(1e3*s)/1e3,time:r}}}},r={},a=function a(o){var e=r[o];if(void 0!==e)return e.exports;var t=r[o]={exports:{}};return i[o](t,t.exports,a),t.exports}(3466);trio_iobTotal=a})();