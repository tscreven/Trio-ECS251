var trio_iobCalculate;(()=>{var i={3512:(i,n)=>{i.exports=function(i,n,e,r,o,u){if(i.insulin){void 0===n&&(n=new Date);var t=new Date(i.date),a=Math.round((n-t)/1e3/60);return"bilinear"===e?function(i,n,e){var r=3/e*n,o=0,u=0,t=2/(60*e),a=t/75,s=t/105*-1;if(r<75){o=i.insulin*(a*r);var l=r/5+1;u=i.insulin*(-.001852*l*l+.001852*l+1)}else if(r<180){var m=r-75;o=i.insulin*(t+s*m);var v=(r-75)/5;u=i.insulin*(.001323*v*v+-.054233*v+.55556)}return{activityContrib:o,iobContrib:u}}(i,a,r):function(i,n,e,r,o){"rapid-acting"===o.curve?!0===o.useCustomPeakTime&&void 0!==o.insulinPeakTime?o.insulinPeakTime>120?(console.error("Setting maximum Insulin Peak Time of 120m for",o.curve,"insulin"),r=120):o.insulinPeakTime<50?(console.error("Setting minimum Insulin Peak Time of 50m for",o.curve,"insulin"),r=50):r=o.insulinPeakTime:r=75:"ultra-rapid"===o.curve?!0===o.useCustomPeakTime&&void 0!==o.insulinPeakTime?o.insulinPeakTime>100?(console.error("Setting maximum Insulin Peak Time of 100m for",o.curve,"insulin"),r=100):o.insulinPeakTime<35?(console.error("Setting minimum Insulin Peak Time of 35m for",o.curve,"insulin"),r=35):r=o.insulinPeakTime:r=55:console.error("Curve of",o.curve,"is not supported.");var u=60*e,t=0,a=0;if(n<u){var s=r*(1-r/u)/(1-2*r/u),l=2*s/u,m=1/(1-l+(1+l)*Math.exp(-u/s));t=i.insulin*(m/Math.pow(s,2))*n*(1-n/u)*Math.exp(-n/s),a=i.insulin*(1-m*(1-l)*((Math.pow(n,2)/(s*u*(1-l))-n/s-1)*Math.exp(-n/s)+1))}return{activityContrib:t,iobContrib:a}}(i,a,r,o,u)}return{}}}},n={},e=function e(r){var o=n[r];if(void 0!==o)return o.exports;var u=n[r]={exports:{}};return i[r](u,u.exports,e),u.exports}(3512);trio_iobCalculate=e})();